"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(a){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.VAT=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a){var b=new TypeError("validation error");return b.value=a,b}var e=a("../utils");b.exports={_allowed:[],_renameTo:null,_transforms:[],_valid:[],_validators:[],_duplicate:function(a){var b=Object.create(this);return a&&(b[a]=[].concat(this[a])),b},allow:function(){var a=this._duplicate("_allowed");return[].push.apply(a._allowed,arguments),a},clone:function(){return this._duplicate()},extend:function(a){return e.extend(this,a),this},optional:function(){return this},renameTo:function(a){if(0===arguments.length)return this._renameTo;var b=this._duplicate();return b._renameTo=a,b},required:function(){var a=this._duplicate();return a._isRequired=!0,a},strict:function(){var a=this._duplicate();return a._transforms=[],a},test:function(a){var b=this._duplicate("_validators");return b._validators.push(a),b},transform:function(a){var b=this._duplicate("_transforms");return b._transforms.push(a),b},valid:function(){var a=this._duplicate("_valid");return[].push.apply(a._valid,arguments),a},validate:function(a){var b=a;if(a=this._transforms.reduce(function(a,b){return b(a)},a),this._valid.length){if(e.contains(this._valid,a))return{value:a};if(!e.isUndefined(a))return{error:d(b)}}if(e.contains(this._allowed,a))return{value:a};if(e.isUndefined(a))return this._isRequired?{error:new ReferenceError("missing value")}:{value:a};try{this._validators.forEach(function(c){if(!c(a))throw d(b)})}catch(c){return{error:c}}return{value:a}}}},{"../utils":5}],2:[function(a,b,c){b.exports=function(a){var b=a.utils;return a.any().transform(function(a){return"true"===a||"false"!==a&&a}).test(function(a){return b.isBoolean(a)||b.isUndefined(a)})}},{}],3:[function(a,b,c){function d(a){var b=new RangeError("invalid value");return b.value=a,b}var e={max:function(a){return this.test(function(b){if(b>a)throw d(b);return!0})},min:function(a){return this.test(function(b){if(b<a)throw d(b);return!0})}};b.exports=function(a){var b=a.utils;return a.any().clone().extend(e).transform(function(a){if(!b.isNumber(a)){if(/^[+-]?\d+$/.test(a))return parseInt(a,10);if(/^[+-]?\d*\.\d*$/.test(a))return parseFloat(a);if(/^[+-]?Infinity$/.test(a))return"-"===a[0]?-(1/0):1/0}return a}).test(function(a){return b.isNumber(a)||b.isUndefined(a)})}},{}],4:[function(a,b,c){b.exports=function(a){var b={len:function(a){return this.test(function(b){return b.length===a})},max:function(a){return this.test(function(b){return b.length<=a})},min:function(a){return this.test(function(b){return b.length>=a})},test:function(b){if(b instanceof RegExp){var c=b;b=function(a){return c.test(a)}}return a.any().test.call(this,b)}},c=a.utils;return a.any().clone().extend(b).transform(function(a){return c.isString(a)?a.trim():a}).test(function(a){return c.isString(a)||c.isUndefined(a)})}},{}],5:[function(a,b,c){b.exports={contains:function(a,b){return a.indexOf(b)!==-1},extend:function(a){var b=[].slice.call(arguments,1);return b.forEach(function(b){for(var c in b)a[c]=b[c]}),a},isBoolean:function(a){return"[object Boolean]"===Object.prototype.toString.call(a)},isFunction:function(a){return"function"==typeof a},isNumber:function(a){return"[object Number]"===Object.prototype.toString.call(a)},isString:function(a){return"[object String]"===Object.prototype.toString.call(a)},isUndefined:function(a){return"undefined"==typeof a},union:function d(){var a=[].slice.call(arguments,0),d=[];return a.forEach(function(a){a.forEach(function(a){b.exports.contains(d,a)||d.push(a)})}),d}}},{}],6:[function(a,b,c){function d(a,b,c){c=c||{};var e=null,f=a;try{if(g.isUndefined(b)){var h=new ReferenceError("missing schema");throw h.value=a,h}if(g.isFunction(b.validate))return b.validate(a);var i=g.union(Object.keys(a),Object.keys(b));f={},i.forEach(function(e){if(b[e]){var h=d(a[e],b[e],c);if(h.error)throw h.error.key=e,h.error;var i=b[e].renameTo()||e;g.isUndefined(h.value)&&!b[e]._isRequired||(f[i]=h.value)}else{if(!c.allowUnknown){var j=new ReferenceError("'"+e+"' is not allowed");throw j.key=e,j}f[e]=a[e]}})}catch(j){e=j}return{error:e,value:f}}function e(a,c){if(g.contains(h,a))throw new Error("'"+a+"' is reserved");if(i[a])throw new Error("'"+a+"' is already registered");b.exports[a]=i[a]=function(){return c}}function f(a){if(g.contains(h,a))throw new Error("'"+a+"' is reserved");if(!i[a])throw new Error("'"+a+"' is already not registered");delete b.exports[a],delete i[a]}var g=a("./utils");b.exports={register:e,unregister:f,utils:g,validate:d};var h=Object.keys(b.exports),i={};e("any",a("./types/any")),e("boolean",a("./types/boolean")(b.exports)),e("number",a("./types/number")(b.exports)),e("string",a("./types/string")(b.exports))},{"./types/any":1,"./types/boolean":2,"./types/number":3,"./types/string":4,"./utils":5}]},{},[6])(6)});